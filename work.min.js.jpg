"use strict";var out=function(){var s={};!function(r){function n(r){if(this.words=[],r)if(Symbol&&Symbol.iterator&&void 0!==r[Symbol.iterator])for(var t=r[Symbol.iterator](),o=t.next();!o.done;)this.add(o.value),o=t.next();else for(var s=0;s<r.length;s++)this.add(r[s])}n.prototype.add=function(r){this.resize(r),this.words[r>>>5]|=1<<r},n.prototype.flip=function(r){this.resize(r),this.words[r>>>5]^=1<<r},n.prototype.clear=function(){this.words=[]},n.prototype.remove=function(r){this.resize(r),this.words[r>>>5]&=~(1<<r)},n.prototype.isEmpty=function(r){for(var t=this.words.length,o=0;o<t;o++)if(0!==this.words[o])return!1;return!0},n.prototype.has=function(r){return 0!=(this.words[r>>>5]&1<<r)},n.prototype.checkedAdd=function(r){this.resize(r);var t=this.words[r>>>5],o=t|1<<r;return((this.words[r>>>5]=o)^t)>>>r},n.prototype.trim=function(r){for(var t=this.words.length;0<t&&0===this.words[t-1];)t--;this.words=this.words.slice(0,t)},n.prototype.resize=function(r){for(var t=r+32>>>5,o=this.words.length;o<t;o++)this.words[o]=0},n.prototype.hammingWeight=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},n.prototype.hammingWeight4=function(r,t,o,s){return 16843009*((r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135)+(s=(s=(858993459&(s-=s>>>1&1431655765))+(s>>>2&858993459))+(s>>>4)&252645135))>>>24},n.prototype.size=function(){for(var r=0,t=this.words.length,o=this.words,s=0;s<t;s++)r+=this.hammingWeight(o[s]);return r},n.prototype.array=function(){for(var r=new Array(this.size()),t=0,o=this.words.length,s=0;s<o;++s)for(var i=this.words[s];0!=i;){var d=i&-i;r[t++]=(s<<5)+this.hammingWeight(d-1|0),i^=d}return r},n.prototype.forEach=function(r){for(var t=this.words.length,o=0;o<t;++o)for(var s=this.words[o];0!=s;){var i=s&-s;r((o<<5)+this.hammingWeight(i-1|0)),s^=i}},n.prototype.clone=function(){var r=Object.create(n.prototype);return r.words=this.words.slice(),r},n.prototype.intersects=function(r){for(var t=Math.min(this.words.length,r.words.length),o=0;o<t;++o)if(0!=(this.words[o]&r.words[o]))return!0;return!1},n.prototype.intersection=function(r){for(var t=Math.min(this.words.length,r.words.length),o=0;o+7<t;o+=8)this.words[o]&=r.words[o],this.words[o+1]&=r.words[o+1],this.words[o+2]&=r.words[o+2],this.words[o+3]&=r.words[o+3],this.words[o+4]&=r.words[o+4],this.words[o+5]&=r.words[o+5],this.words[o+6]&=r.words[o+6],this.words[o+7]&=r.words[o+7];for(;o<t;++o)this.words[o]&=r.words[o];var s=this.words.length;for(o=t;o<s;++o)this.words[o]=0;return this},n.prototype.intersection_size=function(r){for(var t=Math.min(this.words.length,r.words.length),o=0,s=0;s<t;++s)o+=this.hammingWeight(this.words[s]&r.words[s]);return o},n.prototype.new_intersection=function(r){var t=Object.create(n.prototype),o=Math.min(this.words.length,r.words.length);t.words=new Array(o);for(var s=o,i=0;i+7<s;i+=8)t.words[i]=this.words[i]&r.words[i],t.words[i+1]=this.words[i+1]&r.words[i+1],t.words[i+2]=this.words[i+2]&r.words[i+2],t.words[i+3]=this.words[i+3]&r.words[i+3],t.words[i+4]=this.words[i+4]&r.words[i+4],t.words[i+5]=this.words[i+5]&r.words[i+5],t.words[i+6]=this.words[i+6]&r.words[i+6],t.words[i+7]=this.words[i+7]&r.words[i+7];for(;i<s;++i)t.words[i]=this.words[i]&r.words[i];return t},n.prototype.equals=function(r){for(var t=Math.min(this.words.length,r.words.length),o=0;o<t;++o)if(this.words[o]!=r.words[o])return!1;if(this.words.length<r.words.length){var s=r.words.length;for(o=this.words.length;o<s;++o)if(0!=r.words[o])return!1}else if(r.words.length<this.words.length)for(s=this.words.length,o=r.words.length;o<s;++o)if(0!=this.words[o])return!1;return!0},n.prototype.difference=function(r){for(var t=Math.min(this.words.length,r.words.length),o=0;o+7<t;o+=8)this.words[o]&=~r.words[o],this.words[o+1]&=~r.words[o+1],this.words[o+2]&=~r.words[o+2],this.words[o+3]&=~r.words[o+3],this.words[o+4]&=~r.words[o+4],this.words[o+5]&=~r.words[o+5],this.words[o+6]&=~r.words[o+6],this.words[o+7]&=~r.words[o+7];for(;o<t;++o)this.words[o]&=~r.words[o];return this},n.prototype.difference_size=function(r){for(var t=Math.min(this.words.length,r.words.length),o=0,s=0;s<t;++s)o+=this.hammingWeight(this.words[s]&~r.words[s]);for(var i=this.words.length;s<i;++s)o+=this.hammingWeight(this.words[s]);return o},n.prototype.toString=function(){return"{"+this.array().join(",")+"}"},n.prototype.union=function(r){for(var t=Math.min(this.words.length,r.words.length),o=0;o+7<t;o+=8)this.words[o]|=r.words[o],this.words[o+1]|=r.words[o+1],this.words[o+2]|=r.words[o+2],this.words[o+3]|=r.words[o+3],this.words[o+4]|=r.words[o+4],this.words[o+5]|=r.words[o+5],this.words[o+6]|=r.words[o+6],this.words[o+7]|=r.words[o+7];for(;o<t;++o)this.words[o]|=r.words[o];if(this.words.length<r.words.length){this.resize((r.words.length<<5)-1);var s=r.words.length;for(o=t;o<s;++o)this.words[o]=r.words[o]}return this},n.prototype.new_union=function(r){var t=Object.create(n.prototype),o=Math.max(this.words.length,r.words.length);t.words=new Array(o);for(var s=Math.min(this.words.length,r.words.length),i=0;i+7<s;i+=8)t.words[i]=this.words[i]|r.words[i],t.words[i+1]=this.words[i+1]|r.words[i+1],t.words[i+2]=this.words[i+2]|r.words[i+2],t.words[i+3]=this.words[i+3]|r.words[i+3],t.words[i+4]=this.words[i+4]|r.words[i+4],t.words[i+5]=this.words[i+5]|r.words[i+5],t.words[i+6]=this.words[i+6]|r.words[i+6],t.words[i+7]=this.words[i+7]|r.words[i+7];for(;i<s;++i)t.words[i]=this.words[i]|r.words[i];var d=this.words.length;for(i=s;i<d;++i)t.words[i]=this.words[i];var e=r.words.length;for(i=s;i<e;++i)t.words[i]=r.words[i];return t},n.prototype.new_difference=function(r){return this.clone().difference(r)},n.prototype.union_size=function(r){for(var t=Math.min(this.words.length,r.words.length),o=0,s=0;s<t;++s)o+=this.hammingWeight(this.words[s]|r.words[s]);if(this.words.length<r.words.length){var i=r.words.length;for(s=this.words.length;s<i;++s)o+=this.hammingWeight(0|r.words[s])}else for(i=this.words.length,s=r.words.length;s<i;++s)o+=this.hammingWeight(0|this.words[s]);return o},r.BitSet=n}(s);var p=function(r){var t=[];if(1==r.length)for(var o=0;o<r[0];++o)t.push(new s.BitSet);else for(o=0;o<r[0];++o)t.push(p(r.slice(1)));return t},g=function(r,t,o,s,i){for(var d=1;d<=9;++d)for(var e=0;e<10;++e)for(var n=0;n<10;++n)for(var h=0;h<3;++h)for(var w=0;w<3;++w)for(var a=0;a<2;++a)for(var f=-Math.min(t[d-1+s],n);f<=Math.min(o[d-1+s],e);++f)for(var u=0;u<=a;++u)if(!(t[d-1+s]+f-h-w-2*(a-u)<0)){var l=e,p=n,g=t[d-1+s]+f-2*(a-u);f<0?p=n+f:l=e-f,r[d-1][l][p][w][(g-h-w)%3][u].has(0)&&(r[d][e][n][h][w][a].union(r[d-1][l][p][w][(g-h-w)%3][u]),(f<0&&0==i||0<f&&1==i)&&r[d][e][n][h][w][a].add(d+s))}return r},n=function(r,t){for(var o=1,s=0,i=0;i<r.length;++i)s+=r[i];if(1==s||4==s||7==s||10==s||13==s)o=1;else{if(2!=s&&5!=s&&8!=s&&11!=s&&14!=s)return{type:"error",data:"Invalid input"};o=0}var d=p([10,10,10,3,3,2]);d[0][0][0][0][0][0].add(0),d=g(d,r,t,0,o);for(var e=p([10,10,10,3,3,2]),n=0;n<10;++n)for(var h=0;h<10;++h)for(var w=0;w<2;++w)e[0][n][h][0][0][w]=d[9][n][h][0][0][w];e=g(e,r,t,9,o);var a=p([10,10,10,3,3,2]);for(n=0;n<10;++n)for(h=0;h<10;++h)for(w=0;w<2;++w)a[0][n][h][0][0][w]=e[9][n][h][0][0][w];a=g(a,r,t,18,o);var f=p([8,10,10,2]);for(n=0;n<10;++n)for(h=0;h<10;++h)for(w=0;w<2;++w)f[0][n][h][w]=a[9][n][h][0][0][w];f=function(r,t,o,s,i){for(var d=1;d<=7;++d)for(var e=0;e<10;++e)for(var n=0;n<10;++n)for(var h=0;h<2;++h)for(var w=-Math.min(n,t[d-1+s]);w<=Math.min(o[d-1+s],e);++w)for(var a=0;a<=h;++a)if(!(t[d-1+s]+w-2*(h-a)<0)&&(t[d-1+s]+w-2*(h-a))%3==0){var f=e,u=n;w<0?u=n+w:f=e-w,r[d-1][f][u][a].has(0)&&(r[d][e][n][h].union(r[d-1][f][u][a]),(w<0&&0==i||0<w&&1==i)&&r[d][e][n][h].add(d+s))}return r}(f,r,t,27,o);var u=-1;for(i=1;i<10;++i)if(f[7][i][i-o][1].has(0)){u=i-1;break}if(-1==u)return{type:"error",data:"Invalid input"};var l={};if(0==o){l={xts:u,type:"discard",data:[]};for(i=0;i<34;++i)f[7][u+1][u+1][1].has(i+1)&&l.data.push(i)}else{l={xts:u,type:"deal",data:[]};for(i=0;i<34;++i)f[7][u+1][u][1].has(i+1)&&l.data.push(i)}return l};return function(r,o){var t={type:"",data:[],xts:-1},s=n(r,o);if("error"==s.type)t.type="error",t.data=s.data;else if("deal"==s.type)t.xts=s.xts,t.data=s.data,t.type="deal",t.count=s.data.reduce(function(r,t){return r+o[t]},0);else{t.xts=s.xts,t.type="discard";for(var i=[],d=0;d<s.data.length;++d){r[s.data[d]]-=1;var e=n(r,o);r[s.data[d]]+=1,i.push({discard:s.data[d],deal:e.data,count:e.data.reduce(function(r,t){return r+o[t]},0)})}t.data=i.sort(function(r,t){return t.count-r.count})}return t}}();